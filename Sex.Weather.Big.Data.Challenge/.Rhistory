# directory stuff
getwd()
# directory stuff
getwd()
install.packages("gtrendsR")
library(gtrendsR)
(categories$id[categories$name == "Sexual Enhancement"])
# save the gtrends query to an object
quest.searches <- gtrends(keyword = "", geo = "", time = "now 1-H",
gprop = c("web"),category = 1236, hl = "en-US",
low_search_volume = FALSE,
cookie_url = "http://trends.google.com/Cookies/NID",
tz = 0,onlyInterest = FALSE)
# save the gtrends query to an object
quest.searches <- gtrends(keyword = "sex", geo = "", time = "now 1-H",
gprop = c("web"),category = 1236, hl = "en-US",
low_search_volume = FALSE,
cookie_url = "http://trends.google.com/Cookies/NID",
tz = 0,onlyInterest = FALSE)
quest.searches
# save the gtrends query to an object
quest.searches <- gtrends(keyword = "", geo = "US", time = "now 1-H",
gprop = c("web"),category = 1236, hl = "en-US",
low_search_volume = FALSE,
cookie_url = "http://trends.google.com/Cookies/NID",
tz = 0,onlyInterest = FALSE)
# save the gtrends query to an object
se.us <- gtrends(keyword = "sexual enhancement", geo = "US", time = "now 1-H",
gprop = c("web"),category = 1236, hl = "en-US",
low_search_volume = FALSE,
cookie_url = "http://trends.google.com/Cookies/NID",
tz = 0,onlyInterest = FALSE)
se.us$interest_by_country
se.us
# save the gtrends query to an object
se.us <- gtrends(keyword = "sexual enhancement", geo = "US", time = "now 1-D",
gprop = c("web"),category = 1236, hl = "en-US",
low_search_volume = FALSE,
cookie_url = "http://trends.google.com/Cookies/NID",
tz = 0,onlyInterest = FALSE)
# save the gtrends query to an object
se.us <- gtrends(keyword = "sexual enhancement", geo = "US", time = "now 1-d",
gprop = c("web"),category = 1236, hl = "en-US",
low_search_volume = FALSE,
cookie_url = "http://trends.google.com/Cookies/NID",
tz = 0,onlyInterest = FALSE)
se.us
# save the gtrends query to an object
se.us <- gtrends(keyword = "sex", geo = "US", time = "now 1-d",
gprop = c("web"),category = 1236, hl = "en-US",
low_search_volume = FALSE,
cookie_url = "http://trends.google.com/Cookies/NID",
tz = 0,onlyInterest = FALSE)
se.us
se.us$interest_over_time
# directory stuff
getwd()
# create a directory
dir.create("data")
# save the gtrends query to an object
se.us.1d <- gtrends(keyword = "sex", geo = "US", time = "now 1-d",
gprop = c("web"),category = 1236, hl = "en-US",
low_search_volume = FALSE,
cookie_url = "http://trends.google.com/Cookies/NID",
tz = 0,onlyInterest = FALSE)
# directory stuff
wd <- getwd()
getwd()
write.csv(x = se.us.1d, file = paste(wd, "/data/se.us.1d.csv", sep = ""))
se.us.1d$interest_over_time
getOption("max.print")
write.csv(x = se.us.1d$interest_over_time,
file = paste(wd, "/data/se.us.over.1d.csv", sep = ""))
file.exists(paste(wd, "/clim.figs/squam.rainfall.pdf", sep = ""))
file.exists(paste(wd, "/data/se.us.over.1d.csv", sep = ""))
names(se.us.1d)
"se.us.1d"
fsave.data <- function(laundry){
write.csv(x = laundry,
file = paste(wd, "/data/", "laundry", sep = ""))  # print obj name?
# did write.csv() work?
file.exists(paste(wd, "/data/", "laundry", sep = "")) %>%
return()
}
fsave.data(se.us.1d)
se.us.over.1d <- se.us.1d$interest_over_time
fsave.data(se.us.over.1d)
library(dplyr)
fsave.data <- function(laundry){
write.csv(x = laundry,
file = paste(wd, "/data/", "laundry", sep = ""))  # print obj name?
file.exists(paste(wd, "/data/", "laundry", sep = "")) %>%
return()
}
fsave.data(se.us.over.1d)
fsave.data <- function(laundry){
write.csv(x = laundry,
file = paste(wd, "/data/", "laundry", ".csv", sep = ""))  # print obj name?
file.exists(paste(wd, "/data/", "laundry", ".csv", sep = "")) %>%
return()
}
fsave.data(se.us.over.1d)
?sort()
sample(c(1,2,3,4,5))
sample(c(1:5))
sample(c(1:5))
sample(c(1:5))
library(forcats)
sample(c(1:5), replace = TRUE)
fct_shuffle(c(1:5))
cat <- c(1:5)
fct_shuffle(cat)
fct_shuffle(f = cat)
?fct_shuffle(f = cat)
num_shuffle(f = cat)
cat <- as.factors(c(1:5))
cat <- asfactors(c(1:5))
cat <- factor(c(1:5))
num_shuffle(f = cat)
fct_shuffle(f = cat)
d$size[1] *d$weight[1]
if(d$group)[1] == "A"){
print("yep")
d$size[1] *d$weight[1]
}
if(d$group)[1] == "A"){
print("yep")
}
if(d$group)[1] == "A"){
print("yep")
}
#
#
d <- cbind.data.frame(group = c("A", "A", "C", "Z"), size = c(55,44,33,22)
weight = rnorm(4, 1, 4))
str(d)
#
#
d <- cbind.data.frame(group = c("A", "A", "C", "Z"), size = c(55,44,33,22),
weight = rnorm(4, 1, 4))
str(d)
install.packages("rnoaa")
library(rnoaa)
isd_stations_search(lat = 38.4, lon = -123, radius = 250)
isd_stations_search(lat = 40.6943, lon = -73.9249, radius = 25)
station <- isd_stations_search(lat = 40.6943, lon = -73.9249, radius = 25)
station$usaf[1]
lcd(station = station$usaf[1], year = 2018)
lcd(station = station$wban[1], year = 2018)
lcd(station = station$station_name[1], year = 2018)
station
lcd(station = 02413099999, year = 2018)
lcd(station = paste(station$usaf[1], station$wban[1], sep = ""), year = 2018)
ny.weather <- lcd(station = paste(station$usaf[1], station$wban[1], sep = ""), year = 2018)
View(ny.weather)
View(ny.weather)
# save the gtrends query to an object
se.us.1d <- gtrends(keyword = "sex", geo = "US", time = "now 1-d",
gprop = c("web"),category = 1236, hl = "en-US",
low_search_volume = FALSE,
cookie_url = "http://trends.google.com/Cookies/NID",
tz = 0,onlyInterest = FALSE)
library(gtrendsR)
library(dplyr)
# save the gtrends query to an object
se.us.1d <- gtrends(keyword = "sex", geo = "US", time = "now 1-d",
gprop = c("web"),category = 1236, hl = "en-US",
low_search_volume = FALSE,
cookie_url = "http://trends.google.com/Cookies/NID",
tz = 0,onlyInterest = FALSE)
se.us.over.1d <- se.us.1d$interest_over_time
as.name(se.us.over.1d)
deparse(substitute(se.us.over.1d))
substitute(se.us.over.1d)
?deparse
fsave.data <- function(laundry){
write.csv(x = laundry,
# how to print object name in filename?
file = paste(wd, "/data/", deparse(substitute(se.us.over.1d)),
".csv", sep = ""))
file.exists(paste(wd, "/data/", deparse(substitute(se.us.over.1d)), ".csv",
sep = "")) %>%
return()
}
fsave.data(se.us.over.1d)
# directory stuff
wd <- getwd()
fsave.data(se.us.over.1d)
# save the gtrends query to an object
se.us.1d <- gtrends(keyword = "sex", geo = "US", time = "now 1-d",
gprop = c("web"),category = 1236, hl = "en-US",
low_search_volume = FALSE,
cookie_url = "http://trends.google.com/Cookies/NID",
tz = 0,onlyInterest = FALSE)
se.us.1d
gtrendsR::countries
countries <- gtrendsR::countries
head(countries)
countries$sub_code[countries$name == "Seattle"]
countries$name == "Seattle"
countries$sub_code[countries$name == "Seattle"]
which(countries$sub_code[countries$name == "Seattle"])
head(countries)
which(countries$sub_code[countries$name == "SEATTLE"])
countries$sub_code[countries$name == "SEATTLE"]
head(countries)
countries$sub_code[countries$name == "BADAKHSHAN"]
unique(countries$sub_code[countries$name == "BADAKHSHAN"])
which(countries$sub_code[countries$name == "BADAKHSHAN"])
?which(countries$sub_code[countries$name == "BADAKHSHAN"])
?which(countries$name == "BADAKHSHAN")
which(countries$name == "BADAKHSHAN")
countries$name[4046]
countries$subcode[countries$name == 4046]
countries$subcode[countries$name == 1]
countries$subcode[countries$name == 2]
countries$subcode[countries$name == "BADAKHSHAN"]
countries$subcode[which(countries$name == "BADAKHSHAN")]
which(countries$name == "BADAKHSHAN")
countries$sub_code[which(countries$name == "BADAKHSHAN")]
countries$sub_code[which(countries$name == "SEATTLE")]
head(countries)
View(categories)
View(countries)
countries$sub_code[which(countries$name == "Seattle-Tacoma, WA")]
countries$sub_code[which(countries$name == "Seattle-Tacoma, WA")]
sea <- countries$sub_code[which(countries$name == "Seattle-Tacoma, WA")]
sea
as.character(sea)
# save the gtrends query to an object
se.sea.1d <- gtrends(keyword = "sex", geo = as.character(sea), time = "now 1-d",
gprop = c("web"),category = 1236, hl = "en-US",
low_search_volume = FALSE,
cookie_url = "http://trends.google.com/Cookies/NID",
tz = 0,onlyInterest = FALSE)
se.sea.over.1d <- se.sea.1d$interest_over_time
se.sea.over.1d
# save the gtrends query to an object
se.sea.5y <- gtrends(keyword = "sex", geo = as.character(sea),
time = "today+5-y",
gprop = c("web"), category = 1236, hl = "en-US",
low_search_volume = FALSE,
cookie_url = "http://trends.google.com/Cookies/NID",
tz = 0,onlyInterest = FALSE)
se.sea.over.5y <- se.sea.1d$interest_over_time
se.sea.over.5y
se.sea.over.5y <- se.sea.5y$interest_over_time
se.sea.over.5y
countries$sub_code[countries$name == "Seattle-Tacoma, WA"]
countries$sub_code[which(countries$name == "Seattle-Tacoma, WA")]
countries$sub_code[which(countries$name == "Detroit, MI")]
which(countries$name == "Detroit, MI")
countries$sub_code[which(countries$name == "Detroit, MI")]
gtrends(keyword = c("sex", "penis"), geo = as.character(sea),
time = "today+5-y",
gprop = c("web"), category = 1236, hl = "en-US",
low_search_volume = FALSE,
cookie_url = "http://trends.google.com/Cookies/NID",
tz = 0,onlyInterest = TRUE)
gtrends(keyword = c("penis", "sex"), geo = as.character(sea),
time = "today+5-y",
gprop = c("web"), category = 1236, hl = "en-US",
low_search_volume = FALSE,
cookie_url = "http://trends.google.com/Cookies/NID",
tz = 0,onlyInterest = TRUE)
gtrends(keyword = "sex", geo = as.character(sea),
time = "today+5-y",
gprop = c("web"), category = 1236, hl = "en-US",
low_search_volume = FALSE,
cookie_url = "http://trends.google.com/Cookies/NID",
tz = 0,onlyInterest = TRUE)
gtrends(keyword = "sex", geo = as.character(sea),
time = "today+5-y",, category = 1236,
low_search_volume = TRUE,
cookie_url = "http://trends.google.com/Cookies/NID",
tz = 0,onlyInterest = TRUE)
gtrends(keyword = NA, geo = as.character(sea),
time = "today+5-y",, category = 1236,
low_search_volume = FALSE,
cookie_url = "http://trends.google.com/Cookies/NID",
tz = 0,onlyInterest = TRUE)
gtrends(keyword = NA, geo = as.character(sea),
time = "today+5-y", category = 1236,
low_search_volume = FALSE,
cookie_url = "http://trends.google.com/Cookies/NID",
tz = 0,onlyInterest = TRUE)
gtrends(geo = as.character(sea),
time = "today+5-y", category = 1236,
low_search_volume = FALSE,
cookie_url = "http://trends.google.com/Cookies/NID",
tz = 0,onlyInterest = TRUE)
sea <- countries$sub_code[which(countries$name == "Chapel Hill, NC")]
sea
# save the gtrends query to an object
se.sea.5y <- gtrends(geo = as.character(sea), time = "today+5-y",
category = 1236, onlyInterest = TRUE)
# save the gtrends query to an object
se.sea.5y <- gtrends(geo = as.character(sea), time = "today+5-y",
category = 1236, onlyInterest = TRUE)
gtrends(geo = as.character(sea), time = "today+5-y",
category = 1236, onlyInterest = TRUE)
sea <- countries$sub_code[which(countries$name == "Seattle-Tacoma, WA")]
countries$sub_code[which(countries$name == "Seattle-Tacoma, WA")]
sea <- countries$sub_code[which(countries$name == "Seattle-Tacoma, WA")]
sea
sea <- countries$sub_code[which(countries$name == "Seattle-Tacoma, WA")]
# save the gtrends query to an object
se.sea.5y <- gtrends(geo = as.character(sea), time = "today+5-y",
category = 1236, onlyInterest = TRUE)
se.sea.5y
se.sea.over.5y <- se.sea.5y$interest_over_time
se.sea.over.5y
city.list <- c("Seattle-Tacoma,WA", "Portland, OR")
length(city.list)
for(i in 1:length(city.list){
